# --- enable mouse pointing
point-rpi
# --- disable any form of screen saver
xset s off
# --- disable screen blanking
xset s noblank
# --- disable power management
xset -dpms
# --- allow quitting the X server with CTRL-ATL-Backspace
setxkbmap -option terminate:ctrl_alt_bksp
setxkbmap -option startx:alt_x
# --- keyboard layout change ALT-SHIFT
setxkbmap -option grp:switch,grp:alt_shift_toggle us,ru

auto-logout &

# --- start edge in kiosk mode
# microsoft-edge --no-sandbox --no-first-run \
# --incognito \
# --kiosk "https://olimpoks.ente-ltd.ru/" --edge-kiosk-type=public-browsing --kiosk-idle-timeout-minutes=$IDLETIME

# --- start chromium in kiosk mode
[ -f ~/.config/chromium/'Local 2State' ] && \
sed -i 's/"exited_cleanly":false/"exited_cleanly":true/' ~/.config/chromium/'Local State'
[ -f ~/.config/chromium/Default/Preferences ] && \
sed -i 's/"exited_cleanly":false/"exited_cleanly":true/; s/"exit_type":"[^"]\+"/"exit_type":"Normal"/' ~/.config/chromium/Default/Preferences
chromium-browser --no-sandbox --disable-gpu --no-first-run --start-maximized \
--incognito \
"https://olimpoks.ente-ltd.ru/"
